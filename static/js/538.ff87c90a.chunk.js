"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[538],{6741:function(e,t,n){var r=n(6871),a=n(3504),o=n(184);t.Z=function(e){var t=e.movies,n=(0,r.TH)();return(0,o.jsx)("div",{children:(0,o.jsx)("ul",{children:t?t.map((function(e){var t=e.id,r=e.title;return(0,o.jsx)("li",{children:(0,o.jsx)(a.rU,{to:"/movies/".concat(t),state:{from:{location:n}},children:r})},t)})):null})})}},538:function(e,t,n){n.r(t),n.d(t,{MoviesPage:function(){return m}});var r=n(2982),a=n(885),o=n(2791),c=n(3509),i=n(2639),s={},u=n(184),h=function(e){var t=e.onSearch,n=(0,o.useState)(""),r=(0,a.Z)(n,2),i=r[0],h=r[1];return(0,u.jsx)("header",{className:s.Searchbar,children:(0,u.jsxs)("form",{className:s.SearchForm,onSubmit:function(e){e.preventDefault();if(""===i.trim())return c.Am.warning("Search field is empty!");t(i),h("")},children:[(0,u.jsx)("button",{type:"submit",className:s.SearchForm_button,children:(0,u.jsx)("span",{className:s.SearchForm_button_label,children:"Search"})}),(0,u.jsx)("input",{className:s.SearchForm_input,type:"text",name:"searchRequest",value:i,onChange:function(e){h(e.currentTarget.value.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Enter your search request"})]})})},f=n(6741),l=n(8898),m=function(){var e=(0,o.useState)(""),t=(0,a.Z)(e,2),n=t[0],s=t[1],m=(0,o.useState)([]),d=(0,a.Z)(m,2),v=d[0],g=d[1],p=(0,o.useState)(null),S=(0,a.Z)(p,2),_=S[0],x=S[1],b=(0,o.useState)(!1),j=(0,a.Z)(b,2),w=j[0],A=j[1];(0,o.useEffect)((function(){""!==n&&function(e){A(!0),setTimeout((function(){try{(0,l.v)(e).then((function(e){if(!e.data.hits.length)return c.Am.error("There is no movies found with that search request");var t=e.data.hits.map((function(e){return{id:e.id,webformatURL:e.webformatURL,tags:e.tags,largeImageURL:e.largeImageURL}}));g((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(t))}))}))}catch(_){x(_)}finally{A(!1)}}),1e3)}(n)}),[n]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h,{onSearch:function(e){if(e!==n)return s(e),void g([])}}),_&&c.Am.error("Whoops, something went wrong: ".concat(_.message)),w&&(0,u.jsx)(i.Z,{color:"#3f51b5",size:32}),v.length>0&&(0,u.jsx)(f.Z,{movies:v})]})}},8898:function(e,t,n){n.d(t,{v:function(){return u}});var r=n(4569),a=n.n(r),o=function(e){return a().get(e)},c={BASE_URL:"https://api.themoviedb.org/3/",API_KEY:"c2a3e67f469a4984c82975dd15f4f53a",DEFAULT_LANGUAGE:"en-US"},i=c.BASE_URL,s=c.API_KEY,u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return o("".concat(i,"/trending/movie/day?api_key=").concat(s,"&page=").concat(e))}}}]);
//# sourceMappingURL=538.ff87c90a.chunk.js.map